    <div class="content">
        

        <div class="header">
            <button class="adding-btn" (click)="onChangeNewKey(true)">
                <span class="plus">
                    <img src="/assets/img/icons/plus.svg">
                </span>
                Add new key
            </button>

            <div class="checkboxes">
                <div class="checkbox-1-2">
                    <input type="checkbox" name="type" id="renewal" [(ngModel)]="filterParams[0].status" (ngModelChange)="onFilterChange()">
                    <label for="renewal" class="pointer">Renewal</label>
                </div>
                <div class="checkbox-1-2">
                    <input type="checkbox" name="type" id="lifetime" [(ngModel)]="filterParams[1].status" (ngModelChange)="onFilterChange()">
                    <label for="lifetime" class="pointer">Lifetime</label>
                </div>
            </div>

            <div class="search">
                <input type="text" placeholder="Search" name="search" id="search" class="search-input" autocomplete="off" [(ngModel)]="searchParam" >
                <img src="/assets/img/icons/search.svg">
            </div>
        </div>

        <span class="hr grey"></span>


        <div class="keys">

            <table>
                <thead>
                    <tr>
                        <td>Nickname</td>
                        <td>Key</td>
                        <td>Type</td>
                        <td>Purshase</td>
                        <td>Renewal</td>
                        <td>Used</td>
                        <td>Edit</td>
                    </tr>
                </thead>
                <cdk-virtual-scroll-viewport class="custom-scroll" itemSize="37"> 
                    <tr *cdkVirtualFor="let license of licenses
                        | filter : filterParams : filterChange 
                        | search : searchKeys : searchParam
                        , let i = index, trackBy: trackByFn">
                        <td> {{ license.user }} </td>
                        <td> {{ license.key }} </td>
                        <td> {{ license.status }} </td>
                        <td> {{ license.outputCreatedAt }} </td>
                        <td> {{ license.outputExpiresIn }} </td>
                        <td *ngIf="license.quantity != 0"> {{license.devices.length}} of {{ license.quantity }} </td>
                        <td *ngIf="license.quantity == 0" class="infinity"> <span>8</span> </td>

                        <td class="action">
                            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none" alt="edit" class="edit pointer" (click)="editLicense(license)">
                                <path d="M16.4708 2.06851L14.9303 0.527891C14.2265 -0.17598 13.0813 -0.175947 12.3774 0.527891C11.7147 1.19066 1.59255 11.3136 0.916105 11.9901C0.844054 12.0621 0.795776 12.1579 0.778577 12.2515L0.00833116 16.4112C-0.0215185 16.5725 0.02988 16.7381 0.145858 16.8541C0.26197 16.9702 0.427653 17.0215 0.588722 16.9917L4.74804 16.2213C4.84417 16.2034 4.93866 16.1546 5.00952 16.0838L16.4708 4.6216C17.1763 3.9161 17.1764 2.77411 16.4708 2.06851ZM1.11964 15.8802L1.58558 13.364L3.63574 15.4142L1.11964 15.8802ZM4.65737 15.0272L1.97259 12.3423L11.7745 2.53963L14.4593 5.2246L4.65737 15.0272ZM15.7665 3.91726L15.1636 4.52026L12.4788 1.83529L13.0817 1.23229C13.3972 0.916799 13.9105 0.916765 14.226 1.23229L15.7665 2.77292C16.0828 3.08918 16.0828 3.60097 15.7665 3.91726Z" fill="#3D3D3D"/>
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" alt="delete" class="pointer delete" width="14" height="17" (click)="deleteLicense(license._id)" viewBox="0 0 14 17" fill="none">
                                <path d="M9.38176 6.15917C9.15878 6.15917 8.97807 6.3374 8.97807 6.5573V14.0819C8.97807 14.3016 9.15878 14.48 9.38176 14.48C9.60473 14.48 9.78545 14.3016 9.78545 14.0819V6.5573C9.78545 6.3374 9.60473 6.15917 9.38176 6.15917Z" fill="#3D3D3D"/>
                                <path d="M4.61825 6.15917C4.39527 6.15917 4.21456 6.3374 4.21456 6.5573V14.0819C4.21456 14.3016 4.39527 14.48 4.61825 14.48C4.84122 14.48 5.02194 14.3016 5.02194 14.0819V6.5573C5.02194 6.3374 4.84122 6.15917 4.61825 6.15917Z" fill="#3D3D3D"/>
                                <path d="M1.14654 5.06106V14.87C1.14654 15.4498 1.3621 15.9943 1.73866 16.3849C2.11349 16.7767 2.63513 16.9991 3.18106 17H10.8189C11.365 16.9991 11.8867 16.7767 12.2613 16.3849C12.6379 15.9943 12.8535 15.4498 12.8535 14.87V5.06106C13.602 4.86511 14.0871 4.15191 13.9869 3.39438C13.8866 2.63701 13.2324 2.07046 12.4578 2.0703H10.391V1.57265C10.3933 1.15415 10.2256 0.752291 9.92515 0.456652C9.62475 0.161169 9.21665 -0.00336908 8.79231 5.23104e-05H5.20769C4.78335 -0.00336908 4.37525 0.161169 4.07485 0.456652C3.77445 0.752291 3.60666 1.15415 3.60903 1.57265V2.0703H1.54218C0.767607 2.07046 0.113351 2.63701 0.0130595 3.39438C-0.0870738 4.15191 0.397981 4.86511 1.14654 5.06106ZM10.8189 16.2037H3.18106C2.49085 16.2037 1.95391 15.619 1.95391 14.87V5.09606H12.0461V14.87C12.0461 15.619 11.5092 16.2037 10.8189 16.2037ZM4.4164 1.57265C4.41372 1.36534 4.49635 1.16581 4.64553 1.01947C4.79454 0.873129 4.99733 0.792726 5.20769 0.796303H8.79231C9.00267 0.792726 9.20545 0.873129 9.35447 1.01947C9.50365 1.16566 9.58628 1.36534 9.5836 1.57265V2.0703H4.4164V1.57265ZM1.54218 2.86655H12.4578C12.8591 2.86655 13.1845 3.18739 13.1845 3.58318C13.1845 3.97897 12.8591 4.2998 12.4578 4.2998H1.54218C1.14086 4.2998 0.815545 3.97897 0.815545 3.58318C0.815545 3.18739 1.14086 2.86655 1.54218 2.86655Z" fill="#3D3D3D"/>
                                <path d="M7 6.15917C6.77703 6.15917 6.59631 6.3374 6.59631 6.5573V14.0819C6.59631 14.3016 6.77703 14.48 7 14.48C7.22298 14.48 7.40369 14.3016 7.40369 14.0819V6.5573C7.40369 6.3374 7.22298 6.15917 7 6.15917Z" fill="#3D3D3D"/>
                            </svg>
                        </td>

                    </tr >
                </cdk-virtual-scroll-viewport>



            </table>
        </div>




        <app-license-gen *ngIf="newKey" (onClose)="onChangeNewKey($event)" (onAdd)="onAddLicense($event)" (onEdit)="onEditLicense($event)" [license]="editingLicense"></app-license-gen>

    </div>
    
    <ngx-spinner
    type="ball-clip-rotate"
    size="large"
    zIndex='1'
    [fullScreen]="false"
    ></ngx-spinner>