    <div class="content content-table">
        

        <div class="header">
            <button class="adding-btn" (click)="newKey = true">
                <span class="plus">
                    <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">
                        <path d="M0 5H10M5 0V10" stroke="#fff"/>
                    </svg>
                </span>
                <span class="text">
                    Add new key
                </span>
            </button>

            <div class="checkboxes">
                <div class="checkbox-1-2">
                    <input type="checkbox" name="type" id="renewal" [(ngModel)]="filterParams[0].status" (ngModelChange)="onFilterChange()">
                    <label for="renewal" class="pointer">Renewal</label>
                </div>
                <div class="checkbox-1-2">
                    <input type="checkbox" name="type" id="lifetime" [(ngModel)]="filterParams[1].status" (ngModelChange)="onFilterChange()">
                    <label for="lifetime" class="pointer">Lifetime</label>
                </div>
            </div>

            <select class="sort" [(ngModel)]="sortParam" (ngModelChange)="onSortChange()">
                <option value="" selected>Sort</option>
                <option value="expires_in-false-date">Renewal up</option>
                <option value="expires_in-true-date">Renewal down</option>
                <option value="bindTo-false-string-name">Nickname up</option>
                <option value="bindTo-true-string-name">Nickname down</option>
            </select>
            
            <div class="search">
                <input type="text" placeholder="Search" name="search" id="search" class="search-input" autocomplete="off" [(ngModel)]="searchParam" >
                <img src="/assets/img/icons/search.svg">
            </div>
        </div>

        <span class="hr grey"></span>


        <div class="keys">


            <table>
                <thead>
                    <tr>
                        <th>Nickname</th>
                        <th>Key</th>
                        <th>Type</th>
                        <th>Renewal</th>
                        <th>Info</th>
                        <th>Used</th>
                        <th>Edit</th>
                    </tr>
                </thead>
            </table>

            <cdk-virtual-scroll-viewport class="custom-scroll" itemSize="32" *ngIf="licenses[0]"> 
                <table>
                    <tr *cdkVirtualFor="let license of licenses
                        | filter : filterParams : filterChange 
                        | search : searchKeys : searchParam
                        | sort : sortParam
                        , let i = index, trackBy: trackByFn">
                        <td> {{ license.user?.full_name }} </td>
                        <td class="key"> 
                            
                            ...****
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="17" viewBox="0 0 14 17" fill="none" alt="copy" class="pointer" (click)="copyData(license.key)">
                                <path d="M9.50997 2.97316H1.3821C0.619437 2.97316 0 3.57545 0 4.31701V15.6562C0 16.3977 0.619437 17 1.3821 17H9.50997C10.2726 17 10.8921 16.3977 10.8921 15.6562V4.31701C10.8885 3.57545 10.2691 2.97316 9.50997 2.97316ZM9.92174 15.6527C9.92174 15.8755 9.73555 16.0565 9.50639 16.0565H1.37852C1.14936 16.0565 0.963171 15.8755 0.963171 15.6527V4.31701C0.963171 4.09419 1.14936 3.91316 1.37852 3.91316H9.50639C9.73555 3.91316 9.92174 4.09419 9.92174 4.31701V15.6527Z" fill="#3D3D3D"/>
                                <path d="M12.6179 0H4.49003C3.72737 0 3.10793 0.602294 3.10793 1.34385C3.10793 1.60496 3.32276 1.81385 3.5913 1.81385C3.85985 1.81385 4.07468 1.60496 4.07468 1.34385C4.07468 1.12103 4.26087 0.939997 4.49003 0.939997H12.6179C12.8471 0.939997 13.0332 1.12103 13.0332 1.34385V12.683C13.0332 12.9058 12.8471 13.0868 12.6179 13.0868C12.3494 13.0868 12.1345 13.2957 12.1345 13.5568C12.1345 13.818 12.3494 14.0268 12.6179 14.0268C13.3806 14.0268 14 13.4245 14 12.683V1.34385C14 0.602294 13.3806 0 12.6179 0Z" fill="#3D3D3D"/>
                            </svg>

                        </td>
                        <td> {{ license.type }} </td>
                        <td> 
                            <ng-template [ngIf]="license.expires_in">
                                {{ license.expires_in | date:'dd.MM.yy' }} 
                            </ng-template>

                            <ng-template [ngIf]="!license.expires_in">
                                -
                            </ng-template>
                        </td>
                        <td class=""> 
                            <svg xmlns="http://www.w3.org/2000/svg" (click)="infoLicense = license" width="17" height="17" viewBox="0 0 17 17" fill="none" alt="info" class="pointer info">
                                <path d="M8.5 0C3.8131 0 0 3.81315 0 8.50005C0 13.187 3.8131 17 8.5 17C13.1869 17 17 13.187 17 8.50005C17 3.81315 13.1869 0 8.5 0ZM8.5 15.4545C4.66521 15.4545 1.54545 12.3348 1.54545 8.50005C1.54545 4.66532 4.66521 1.54545 8.5 1.54545C12.3348 1.54545 15.4545 4.66532 15.4545 8.50005C15.4545 12.3348 12.3347 15.4545 8.5 15.4545Z" fill="#3D3D3D"/>
                                <path d="M8.4999 3.60606C7.93189 3.60606 7.4698 4.06846 7.4698 4.63683C7.4698 5.20468 7.93189 5.66667 8.4999 5.66667C9.0679 5.66667 9.52999 5.20468 9.52999 4.63683C9.52999 4.06846 9.0679 3.60606 8.4999 3.60606Z" fill="#3D3D3D"/>
                                <path d="M8.5 7.21212C8.07325 7.21212 7.72727 7.5581 7.72727 7.98485V12.6212C7.72727 13.048 8.07325 13.3939 8.5 13.3939C8.92675 13.3939 9.27273 13.048 9.27273 12.6212V7.98485C9.27273 7.5581 8.92675 7.21212 8.5 7.21212Z" fill="#3D3D3D"/>
                            </svg>
                        </td>
                        <td *ngIf="license.activations?.quantity != 0; else infinity"> {{license.activations?.devices.length}} of {{ license.activations?.quantity }} </td>
                        <ng-template #infinity>
                            <td class="infinity"> <span>8</span> </td>
                        </ng-template>
                        <td class="action">
                            <ng-template [ngIf]="license.type !== 'lifetime'">
                                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" class="pointer renew" viewBox="0 0 19 19" fill="none" (click)="renewalNow(license)">
                                    <path d="M18 9.5C18 14.1944 14.1944 18 9.5 18C4.80558 18 1 14.1944 1 9.5C1 4.80558 4.80558 1 9.5 1C12.9 1 14.175 3.55 15.45 4.825M15.45 4.825V1M15.45 4.825H12.05" stroke="#3D3D3D" stroke-width="1.2" stroke-linecap="round"/>
                                </svg>
                            </ng-template>
                            <ng-template [ngIf]="license.type == 'lifetime'"> <div class=""></div> </ng-template>
                            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none" alt="edit" class="edit pointer" (click)="editLicense(license)">
                                <path d="M16.4708 2.06851L14.9303 0.527891C14.2265 -0.17598 13.0813 -0.175947 12.3774 0.527891C11.7147 1.19066 1.59255 11.3136 0.916105 11.9901C0.844054 12.0621 0.795776 12.1579 0.778577 12.2515L0.00833116 16.4112C-0.0215185 16.5725 0.02988 16.7381 0.145858 16.8541C0.26197 16.9702 0.427653 17.0215 0.588722 16.9917L4.74804 16.2213C4.84417 16.2034 4.93866 16.1546 5.00952 16.0838L16.4708 4.6216C17.1763 3.9161 17.1764 2.77411 16.4708 2.06851ZM1.11964 15.8802L1.58558 13.364L3.63574 15.4142L1.11964 15.8802ZM4.65737 15.0272L1.97259 12.3423L11.7745 2.53963L14.4593 5.2246L4.65737 15.0272ZM15.7665 3.91726L15.1636 4.52026L12.4788 1.83529L13.0817 1.23229C13.3972 0.916799 13.9105 0.916765 14.226 1.23229L15.7665 2.77292C16.0828 3.08918 16.0828 3.60097 15.7665 3.91726Z" fill="#3D3D3D"/>
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" alt="delete" class="pointer delete" width="14" height="17" (click)="deleteLicense(license.key)" viewBox="0 0 14 17" fill="none">
                                <path d="M9.38176 6.15917C9.15878 6.15917 8.97807 6.3374 8.97807 6.5573V14.0819C8.97807 14.3016 9.15878 14.48 9.38176 14.48C9.60473 14.48 9.78545 14.3016 9.78545 14.0819V6.5573C9.78545 6.3374 9.60473 6.15917 9.38176 6.15917Z" fill="#3D3D3D"/>
                                <path d="M4.61825 6.15917C4.39527 6.15917 4.21456 6.3374 4.21456 6.5573V14.0819C4.21456 14.3016 4.39527 14.48 4.61825 14.48C4.84122 14.48 5.02194 14.3016 5.02194 14.0819V6.5573C5.02194 6.3374 4.84122 6.15917 4.61825 6.15917Z" fill="#3D3D3D"/>
                                <path d="M1.14654 5.06106V14.87C1.14654 15.4498 1.3621 15.9943 1.73866 16.3849C2.11349 16.7767 2.63513 16.9991 3.18106 17H10.8189C11.365 16.9991 11.8867 16.7767 12.2613 16.3849C12.6379 15.9943 12.8535 15.4498 12.8535 14.87V5.06106C13.602 4.86511 14.0871 4.15191 13.9869 3.39438C13.8866 2.63701 13.2324 2.07046 12.4578 2.0703H10.391V1.57265C10.3933 1.15415 10.2256 0.752291 9.92515 0.456652C9.62475 0.161169 9.21665 -0.00336908 8.79231 5.23104e-05H5.20769C4.78335 -0.00336908 4.37525 0.161169 4.07485 0.456652C3.77445 0.752291 3.60666 1.15415 3.60903 1.57265V2.0703H1.54218C0.767607 2.07046 0.113351 2.63701 0.0130595 3.39438C-0.0870738 4.15191 0.397981 4.86511 1.14654 5.06106ZM10.8189 16.2037H3.18106C2.49085 16.2037 1.95391 15.619 1.95391 14.87V5.09606H12.0461V14.87C12.0461 15.619 11.5092 16.2037 10.8189 16.2037ZM4.4164 1.57265C4.41372 1.36534 4.49635 1.16581 4.64553 1.01947C4.79454 0.873129 4.99733 0.792726 5.20769 0.796303H8.79231C9.00267 0.792726 9.20545 0.873129 9.35447 1.01947C9.50365 1.16566 9.58628 1.36534 9.5836 1.57265V2.0703H4.4164V1.57265ZM1.54218 2.86655H12.4578C12.8591 2.86655 13.1845 3.18739 13.1845 3.58318C13.1845 3.97897 12.8591 4.2998 12.4578 4.2998H1.54218C1.14086 4.2998 0.815545 3.97897 0.815545 3.58318C0.815545 3.18739 1.14086 2.86655 1.54218 2.86655Z" fill="#3D3D3D"/>
                                <path d="M7 6.15917C6.77703 6.15917 6.59631 6.3374 6.59631 6.5573V14.0819C6.59631 14.3016 6.77703 14.48 7 14.48C7.22298 14.48 7.40369 14.3016 7.40369 14.0819V6.5573C7.40369 6.3374 7.22298 6.15917 7 6.15917Z" fill="#3D3D3D"/>
                            </svg>
                        </td>
                    </tr >
                </table>
            </cdk-virtual-scroll-viewport>

        </div>


        <app-license-gen *ngIf="newKey" (onClose)="onClose($event)" (onAdd)="onAddLicense($event)" (onEdit)="onEditLicense($event)" [license]="editingLicense"></app-license-gen>
        <app-license-info *ngIf="infoLicense" (onClose)="onClose($event)" [license]="infoLicense"></app-license-info>

    </div>
    
    <ngx-spinner
    type="ball-clip-rotate"
    size="large"
    zIndex='1'
    [fullScreen]="false"
    ></ngx-spinner>