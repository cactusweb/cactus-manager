
<tr class="license">

    <td  class="license__user" (click)="onView.emit(license.id)"> 
        <button class="btn-info">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M7.00016 1.75016C6.31072 1.75016 5.62803 1.88596 4.99108 2.14979C4.35412 2.41363 3.77536 2.80034 3.28785 3.28785C2.80034 3.77536 2.41363 4.35411 2.1498 4.99107C1.88596 5.62803 1.75016 6.31072 1.75016 7.00016C1.75016 7.6896 1.88596 8.37229 2.1498 9.00925C2.41363 9.64621 2.80034 10.225 3.28785 10.7125C3.77536 11.2 4.35412 11.5867 4.99108 11.8505C5.62803 12.1144 6.31072 12.2502 7.00016 12.2502C8.39255 12.2502 9.72791 11.697 10.7125 10.7125C11.697 9.72791 12.2502 8.39255 12.2502 7.00016C12.2502 5.60778 11.697 4.27242 10.7125 3.28785C9.72791 2.30329 8.39255 1.75016 7.00016 1.75016V1.75016ZM0.583496 7.00016C0.583496 3.45641 3.45641 0.583496 7.00016 0.583496C10.5439 0.583496 13.4168 3.45641 13.4168 7.00016C13.4168 10.5439 10.5439 13.4168 7.00016 13.4168C3.45641 13.4168 0.583496 10.5439 0.583496 7.00016ZM7.72933 4.22933C7.72933 4.42272 7.65251 4.60818 7.51576 4.74493C7.37902 4.88167 7.19355 4.9585 7.00016 4.9585C6.80678 4.9585 6.62131 4.88167 6.48456 4.74493C6.34782 4.60818 6.271 4.42272 6.271 4.22933C6.271 4.03594 6.34782 3.85048 6.48456 3.71373C6.62131 3.57699 6.80678 3.50016 7.00016 3.50016C7.19355 3.50016 7.37902 3.57699 7.51576 3.71373C7.65251 3.85048 7.72933 4.03594 7.72933 4.22933V4.22933ZM6.41683 5.8335C6.26212 5.8335 6.11375 5.89495 6.00435 6.00435C5.89495 6.11375 5.8335 6.26212 5.8335 6.41683C5.8335 6.57154 5.89495 6.71991 6.00435 6.82931C6.11375 6.9387 6.26212 7.00016 6.41683 7.00016V9.91683C6.41683 10.0715 6.47829 10.2199 6.58768 10.3293C6.69708 10.4387 6.84545 10.5002 7.00016 10.5002C7.15487 10.5002 7.30325 10.4387 7.41264 10.3293C7.52204 10.2199 7.5835 10.0715 7.5835 9.91683V6.41683C7.5835 6.26212 7.52204 6.11375 7.41264 6.00435C7.30325 5.89495 7.15487 5.8335 7.00016 5.8335H6.41683Z" fill="#A2ACD2"/>
            </svg>
        </button>
        {{ license.user?.full_name }} 
    </td>

    <td class="license__key"> 
        <span class="license__key-copy row" (click)="tools.copy(license.key)">
            ****-{{getLastFour()}}
            <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M7.51577 1.74369C7.67397 1.58739 7.88855 1.49956 8.1123 1.49951H11.4873C12.1586 1.49951 12.8025 1.76292 13.2772 2.23178C13.7519 2.70064 14.0186 3.33656 14.0186 3.99963V11.5C14.0186 12.1631 13.7519 12.799 13.2772 13.2679C12.8025 13.7367 12.1586 14.0001 11.4873 14.0001H5.58105C4.90973 14.0001 4.26589 13.7367 3.79119 13.2679C3.31649 12.799 3.0498 12.1631 3.0498 11.5V6.49975C3.04985 6.27875 3.13878 6.06681 3.29702 5.91056L7.51577 1.74369ZM11.4873 3.16626H8.95605V6.49975C8.95605 6.72078 8.86716 6.93275 8.70893 7.08904C8.55069 7.24533 8.33608 7.33313 8.1123 7.33313H4.7373V11.5C4.7373 11.721 4.8262 11.933 4.98443 12.0893C5.14267 12.2456 5.35728 12.3334 5.58105 12.3334H11.4873C11.7111 12.3334 11.9257 12.2456 12.0839 12.0893C12.2422 11.933 12.3311 11.721 12.3311 11.5V3.99963C12.3311 3.77861 12.2422 3.56664 12.0839 3.41035C11.9257 3.25406 11.7111 3.16626 11.4873 3.16626ZM5.93037 5.66638H7.26855V4.34465L5.93037 5.66638ZM15.7061 3.16626C15.9298 3.16626 16.1444 3.25406 16.3027 3.41035C16.4609 3.56664 16.5498 3.77861 16.5498 3.99963V14.0001C16.5498 14.6632 16.2831 15.2991 15.8084 15.768C15.3337 16.2368 14.6899 16.5002 14.0186 16.5002H5.58105C5.35728 16.5002 5.14267 16.4124 4.98443 16.2562C4.8262 16.0999 4.7373 15.8879 4.7373 15.6669C4.7373 15.4458 4.8262 15.2339 4.98443 15.0776C5.14267 14.9213 5.35728 14.8335 5.58105 14.8335H14.0186C14.2423 14.8335 14.4569 14.7457 14.6152 14.5894C14.7734 14.4331 14.8623 14.2211 14.8623 14.0001V3.99963C14.8623 3.77861 14.9512 3.56664 15.1094 3.41035C15.2677 3.25406 15.4823 3.16626 15.7061 3.16626Z" fill="#A2ACD2"/>
            </svg>
        </span>
    </td>

    <td> {{ license.type }} </td>

    <td class="license__date" [ngClass]="{
            'license__date--warning': license.type != 'lifetime' && renewBeforeDays(3),
            'license__date--danger': license.type != 'lifetime' && renewBeforeDays(0)
        }"
    > 
        <ng-template [ngIf]="license.type != 'lifetime'">
            {{ license.expires_in | date:'dd.MM.yy' }} 
        </ng-template>

        <ng-template [ngIf]="license.type == 'lifetime'">
            -
        </ng-template>

        <span class="license__renew-indicator" *ngIf="license.type != 'lifetime' && paymentCardActive()">
            auto
        </span>
    </td>

    <td > 
        <ng-template [ngIf]="license.activations.quantity !== 0">
            {{license.activations?.devices?.length || 0}} of {{ license.activations?.quantity }} 
        </ng-template>

        <ng-template [ngIf]="license.activations.quantity === 0">
            <span class="infinity">&infin;</span>
        </ng-template>
    </td>
    

    <td>
       <div class="license__action row">
            <button (click)="renew()" [disabled]="license.type == 'lifetime'">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.5902 4.7116C5.74672 4.71162 5.89682 4.77423 6.0075 4.88567C6.11818 4.9971 6.18037 5.14823 6.18039 5.30583L6.18039 8.07358L8.51196 5.72607C9.39756 4.83442 10.5987 4.3335 11.8511 4.3335C13.1035 4.3335 14.3047 4.83442 15.1903 5.72607L16.8599 7.40707C16.9706 7.51852 17.0327 7.66969 17.0327 7.82731C17.0327 7.98494 16.9706 8.1361 16.8599 8.24756C16.7492 8.35902 16.599 8.42163 16.4425 8.42163C16.2859 8.42163 16.1358 8.35902 16.0251 8.24756L14.3555 6.56657C13.6913 5.89783 12.7904 5.52214 11.8511 5.52214C10.9118 5.52214 10.0109 5.89783 9.34675 6.56657L7.01518 8.91407H9.76414C9.9189 8.91678 10.0664 8.98058 10.1749 9.09172C10.2834 9.20287 10.3442 9.35247 10.3442 9.5083C10.3442 9.66414 10.2834 9.81374 10.1749 9.92488C10.0664 10.036 9.9189 10.0998 9.76414 10.1025H5.5902C5.43367 10.1025 5.28357 10.0399 5.17289 9.92846C5.06221 9.81703 5.00002 9.6659 5 9.5083V5.30583C5.00002 5.14823 5.06221 4.9971 5.17289 4.88567C5.28357 4.77423 5.43367 4.71162 5.5902 4.7116Z" fill="#A2ACD2"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M16.5257 16.6221C16.3692 16.622 16.2191 16.5594 16.1084 16.448C15.9978 16.3366 15.9356 16.1854 15.9355 16.0278L15.9355 13.2601L13.604 15.6076C12.7184 16.4992 11.5173 17.0002 10.2648 17.0002C9.0124 17.0002 7.81127 16.4992 6.92567 15.6076L5.25609 13.9266C5.14539 13.8151 5.0832 13.664 5.0832 13.5063C5.0832 13.3487 5.14539 13.1976 5.25609 13.0861C5.36679 12.9746 5.51693 12.912 5.67348 12.912C5.83003 12.912 5.98018 12.9746 6.09088 13.0861L7.76045 14.7671C8.42465 15.4358 9.3255 15.8115 10.2648 15.8115C11.2041 15.8115 12.105 15.4358 12.7692 14.7671L15.1008 12.4196H12.3518C12.197 12.4169 12.0495 12.3531 11.9411 12.2419C11.8326 12.1308 11.7718 11.9812 11.7718 11.8254C11.7718 11.6695 11.8326 11.5199 11.9411 11.4088C12.0495 11.2976 12.197 11.2338 12.3518 11.2311H16.5257C16.6823 11.2311 16.8324 11.2938 16.9431 11.4052C17.0537 11.5166 17.1159 11.6678 17.1159 11.8254V16.0278C17.1159 16.1854 17.0537 16.3366 16.9431 16.448C16.8324 16.5594 16.6823 16.622 16.5257 16.6221Z" fill="#A2ACD2"/>
                </svg>
            </button>

            <button (click)="onEdit.emit(license.id)">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0808 4.80484C16.7058 4.42988 16.1972 4.21924 15.6668 4.21924C15.1365 4.21924 14.6279 4.42988 14.2528 4.80484L13.1328 5.92489L7.86216 11.1958C7.77679 11.2812 7.71619 11.3881 7.68683 11.5052L7.02016 14.172C6.99218 14.2837 6.99362 14.4008 7.02434 14.5118C7.05506 14.6228 7.11401 14.7239 7.19545 14.8054C7.27689 14.8868 7.37804 14.9458 7.48904 14.9765C7.60004 15.0072 7.71711 15.0087 7.82883 14.9807L10.4955 14.314C10.6126 14.2846 10.7195 14.224 10.8048 14.1386L16.0375 8.90637L17.1955 7.74765C17.5704 7.37258 17.7811 6.86393 17.7811 6.33358C17.7811 5.80323 17.5704 5.29459 17.1955 4.91951L17.0808 4.80484ZM15.1955 5.74755C15.3205 5.62257 15.4901 5.55235 15.6668 5.55235C15.8436 5.55235 16.0131 5.62257 16.1382 5.74755L16.2528 5.86222C16.3778 5.98725 16.448 6.1568 16.448 6.33358C16.448 6.51037 16.3778 6.67991 16.2528 6.80494L15.5748 7.48297L14.5382 6.40492L15.1955 5.74755ZM13.5955 7.34763L14.6322 8.42568L9.99216 13.0652L8.58283 13.4179L8.9355 12.0079L13.5955 7.34763ZM5.66683 8.33368C5.66683 8.15686 5.73707 7.98728 5.86209 7.86225C5.98712 7.73722 6.15669 7.66698 6.3335 7.66698H9.66683C9.84364 7.66698 10.0132 7.59674 10.1382 7.47171C10.2633 7.34668 10.3335 7.1771 10.3335 7.00028C10.3335 6.82346 10.2633 6.65388 10.1382 6.52885C10.0132 6.40382 9.84364 6.33358 9.66683 6.33358H6.3335C5.80306 6.33358 5.29436 6.5443 4.91928 6.9194C4.54421 7.29449 4.3335 7.80322 4.3335 8.33368V15.6674C4.3335 16.1978 4.54421 16.7066 4.91928 17.0816C5.29436 17.4567 5.80306 17.6675 6.3335 17.6675H13.6668C14.1973 17.6675 14.706 17.4567 15.081 17.0816C15.4561 16.7066 15.6668 16.1978 15.6668 15.6674V12.3339C15.6668 12.1571 15.5966 11.9875 15.4716 11.8624C15.3465 11.7374 15.177 11.6672 15.0002 11.6672C14.8234 11.6672 14.6538 11.7374 14.5288 11.8624C14.4037 11.9875 14.3335 12.1571 14.3335 12.3339V15.6674C14.3335 15.8442 14.2633 16.0138 14.1382 16.1388C14.0132 16.2638 13.8436 16.3341 13.6668 16.3341H6.3335C6.15669 16.3341 5.98712 16.2638 5.86209 16.1388C5.73707 16.0138 5.66683 15.8442 5.66683 15.6674V8.33368Z" fill="#A2ACD2"/>
                </svg>
            </button>


            <button (click)="delete()">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="22" viewBox="0 0 18 22" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.75 5.81456C8.75 5.42163 8.90804 5.04479 9.18934 4.76694C9.47064 4.4891 9.85218 4.33301 10.25 4.33301H11.75C12.1478 4.33301 12.5294 4.4891 12.8107 4.76694C13.092 5.04479 13.25 5.42163 13.25 5.81456V6.55534H16.25C16.4489 6.55534 16.6397 6.63338 16.7803 6.77231C16.921 6.91123 17 7.09965 17 7.29612C17 7.49258 16.921 7.681 16.7803 7.81992C16.6397 7.95885 16.4489 8.03689 16.25 8.03689H15.5V15.4447C15.5 16.0341 15.2629 16.5993 14.841 17.0161C14.419 17.4329 13.8467 17.667 13.25 17.667H8.75C8.15326 17.667 7.58097 17.4329 7.15901 17.0161C6.73705 16.5993 6.5 16.0341 6.5 15.4447V8.03689H5.75C5.55109 8.03689 5.36032 7.95885 5.21967 7.81992C5.07902 7.681 5 7.49258 5 7.29612C5 7.09965 5.07902 6.91123 5.21967 6.77231C5.36032 6.63338 5.55109 6.55534 5.75 6.55534H8.75V5.81456ZM9.5 8.03689H8V15.4447C8 15.6411 8.07902 15.8295 8.21967 15.9685C8.36032 16.1074 8.55109 16.1854 8.75 16.1854H13.25C13.4489 16.1854 13.6397 16.1074 13.7803 15.9685C13.921 15.8295 14 15.6411 14 15.4447V8.03689H9.5ZM11.75 6.55534H10.25V5.81456H11.75V6.55534ZM9.5 8.77767C9.69891 8.77767 9.88968 8.85572 10.0303 8.99464C10.171 9.13356 10.25 9.32198 10.25 9.51845V14.7039C10.25 14.9004 10.171 15.0888 10.0303 15.2277C9.88968 15.3666 9.69891 15.4447 9.5 15.4447C9.30109 15.4447 9.11032 15.3666 8.96967 15.2277C8.82902 15.0888 8.75 14.9004 8.75 14.7039V9.51845C8.75 9.32198 8.82902 9.13356 8.96967 8.99464C9.11032 8.85572 9.30109 8.77767 9.5 8.77767ZM12.5 8.77767C12.6989 8.77767 12.8897 8.85572 13.0303 8.99464C13.171 9.13356 13.25 9.32198 13.25 9.51845V14.7039C13.25 14.9004 13.171 15.0888 13.0303 15.2277C12.8897 15.3666 12.6989 15.4447 12.5 15.4447C12.3011 15.4447 12.1103 15.3666 11.9697 15.2277C11.829 15.0888 11.75 14.9004 11.75 14.7039V9.51845C11.75 9.32198 11.829 9.13356 11.9697 8.99464C12.1103 8.85572 12.3011 8.77767 12.5 8.77767Z" fill="#A2ACD2"/>
                </svg>
            </button>
       </div> 
      
    </td>
</tr>