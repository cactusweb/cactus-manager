<tr class="log">

    <td class="log__timestamp timestamp">
        <span class="timestamp__date">{{log.when | date:'hh:mm a'}}</span>
        <span class="timestamp__time">{{log.when | date:'dd/MM'}}</span>
    </td>

    <td class="log__user user">
        <span class="user__avatar" [ngStyle]="log.who?.avatar ? {} : { 'background-color': '#78AFF8' }">
            <img [src]="log.who.avatar" *ngIf="log.who.avatar">
        </span>
        <span class="user__name">{{log.who.name}}</span>
    </td>

    <td class="log__action">
        <span 
            (click)="txInfo ? showTxInfo() : null"
            class="row action"
            [class.action--pointer]="txInfo"
            [ngClass]="{
                'action--danger': log.action == 'deleted' || log.action == 'expired' || log.action == 'trial-expired',
                'action--warning': log.action == 'unbind' || log.action == 'auto-renew-failed' || log.action == 'renew-failed' || log.action == 'channel-created',
                'action--success': log.action == 'bind' || log.action == 'purchase' || log.action == 'renew' || log.action == 'card-binding' || log.action == 'auto-renew' || log.action == 'ref-purchase' || log.action == 'trial-to-renewal',
                'action--primary': log.action == 'generated'
            }"
        >
            {{log.action}}
            <span class="action__info" *ngIf="txInfo">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="14" viewBox="0 0 15 14" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.33268 1.75016C6.64324 1.75016 5.96055 1.88596 5.32359 2.14979C4.68664 2.41363 4.10788 2.80034 3.62037 3.28785C3.13286 3.77536 2.74615 4.35411 2.48231 4.99107C2.21848 5.62803 2.08268 6.31072 2.08268 7.00016C2.08268 7.6896 2.21848 8.37229 2.48231 9.00925C2.74615 9.64621 3.13286 10.225 3.62037 10.7125C4.10788 11.2 4.68664 11.5867 5.32359 11.8505C5.96055 12.1144 6.64324 12.2502 7.33268 12.2502C8.72507 12.2502 10.0604 11.697 11.045 10.7125C12.0296 9.72791 12.5827 8.39255 12.5827 7.00016C12.5827 5.60778 12.0296 4.27242 11.045 3.28785C10.0604 2.30329 8.72507 1.75016 7.33268 1.75016ZM0.916016 7.00016C0.916016 3.45641 3.78893 0.583496 7.33268 0.583496C10.8764 0.583496 13.7493 3.45641 13.7493 7.00016C13.7493 10.5439 10.8764 13.4168 7.33268 13.4168C3.78893 13.4168 0.916016 10.5439 0.916016 7.00016ZM8.06185 4.22933C8.06185 4.42272 7.98503 4.60818 7.84828 4.74493C7.71154 4.88167 7.52607 4.9585 7.33268 4.9585C7.1393 4.9585 6.95383 4.88167 6.81708 4.74493C6.68034 4.60818 6.60352 4.42272 6.60352 4.22933C6.60352 4.03594 6.68034 3.85048 6.81708 3.71373C6.95383 3.57699 7.1393 3.50016 7.33268 3.50016C7.52607 3.50016 7.71154 3.57699 7.84828 3.71373C7.98503 3.85048 8.06185 4.03594 8.06185 4.22933ZM6.74935 5.8335C6.59464 5.8335 6.44627 5.89495 6.33687 6.00435C6.22747 6.11375 6.16602 6.26212 6.16602 6.41683C6.16602 6.57154 6.22747 6.71991 6.33687 6.82931C6.44627 6.9387 6.59464 7.00016 6.74935 7.00016V9.91683C6.74935 10.0715 6.81081 10.2199 6.9202 10.3293C7.0296 10.4387 7.17797 10.5002 7.33268 10.5002C7.48739 10.5002 7.63577 10.4387 7.74516 10.3293C7.85456 10.2199 7.91602 10.0715 7.91602 9.91683V6.41683C7.91602 6.26212 7.85456 6.11375 7.74516 6.00435C7.63577 5.89495 7.48739 5.8335 7.33268 5.8335H6.74935Z" fill="#78AFF8"/>
                </svg>
            </span>
        </span>
    </td>

    
    <span class="log__license-copy row" (click)="tools.copy(log.key)">
        ****-{{getLastFour()}}
        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.51577 1.74369C7.67397 1.58739 7.88855 1.49956 8.1123 1.49951H11.4873C12.1586 1.49951 12.8025 1.76292 13.2772 2.23178C13.7519 2.70064 14.0186 3.33656 14.0186 3.99963V11.5C14.0186 12.1631 13.7519 12.799 13.2772 13.2679C12.8025 13.7367 12.1586 14.0001 11.4873 14.0001H5.58105C4.90973 14.0001 4.26589 13.7367 3.79119 13.2679C3.31649 12.799 3.0498 12.1631 3.0498 11.5V6.49975C3.04985 6.27875 3.13878 6.06681 3.29702 5.91056L7.51577 1.74369ZM11.4873 3.16626H8.95605V6.49975C8.95605 6.72078 8.86716 6.93275 8.70893 7.08904C8.55069 7.24533 8.33608 7.33313 8.1123 7.33313H4.7373V11.5C4.7373 11.721 4.8262 11.933 4.98443 12.0893C5.14267 12.2456 5.35728 12.3334 5.58105 12.3334H11.4873C11.7111 12.3334 11.9257 12.2456 12.0839 12.0893C12.2422 11.933 12.3311 11.721 12.3311 11.5V3.99963C12.3311 3.77861 12.2422 3.56664 12.0839 3.41035C11.9257 3.25406 11.7111 3.16626 11.4873 3.16626ZM5.93037 5.66638H7.26855V4.34465L5.93037 5.66638ZM15.7061 3.16626C15.9298 3.16626 16.1444 3.25406 16.3027 3.41035C16.4609 3.56664 16.5498 3.77861 16.5498 3.99963V14.0001C16.5498 14.6632 16.2831 15.2991 15.8084 15.768C15.3337 16.2368 14.6899 16.5002 14.0186 16.5002H5.58105C5.35728 16.5002 5.14267 16.4124 4.98443 16.2562C4.8262 16.0999 4.7373 15.8879 4.7373 15.6669C4.7373 15.4458 4.8262 15.2339 4.98443 15.0776C5.14267 14.9213 5.35728 14.8335 5.58105 14.8335H14.0186C14.2423 14.8335 14.4569 14.7457 14.6152 14.5894C14.7734 14.4331 14.8623 14.2211 14.8623 14.0001V3.99963C14.8623 3.77861 14.9512 3.56664 15.1094 3.41035C15.2677 3.25406 15.4823 3.16626 15.7061 3.16626Z" fill="#A2ACD2"/>
        </svg>
    </span>
</tr>