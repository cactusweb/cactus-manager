<input type="text" hidden value="-1" #showStatus>

<div class="form-control" [class.form-control--focus]="showStatus.value == '1'" (click)="onClickControl($event)">
    <div class="form-control__value-wrapper custom-scroll">
        <span class="form-control__placeholder" *ngIf="getSelectedValues().length == 0">{{placeholder}}</span>

        <span *ngFor="let opt of getSelectedValues()" class="form-control__value">
            {{opt.display || opt.value}}
            <button (click)="removeValue(opt.value)" class="form-control__value-btn" type="button">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.16716 4.17446C4.27423 4.06733 4.41942 4.00714 4.57081 4.00714C4.72221 4.00714 4.8674 4.06733 4.97447 4.17446L7.99643 7.19918L11.0184 4.17446C11.0711 4.11988 11.1341 4.07634 11.2037 4.04639C11.2734 4.01645 11.3483 4.00068 11.4241 4.00002C11.4999 3.99936 11.5751 4.01382 11.6453 4.04255C11.7154 4.07129 11.7792 4.11372 11.8328 4.16738C11.8864 4.22103 11.9288 4.28484 11.9575 4.35507C11.9862 4.4253 12.0006 4.50054 12 4.57642C11.9993 4.6523 11.9836 4.72729 11.9536 4.79701C11.9237 4.86673 11.8802 4.92978 11.8257 4.9825L8.80373 8.00722L11.8257 11.0319C11.9297 11.1397 11.9872 11.2841 11.9859 11.4339C11.9846 11.5837 11.9246 11.7271 11.8187 11.833C11.7129 11.939 11.5697 11.9991 11.42 12.0004C11.2703 12.0017 11.1261 11.9441 11.0184 11.84L7.99643 8.81525L4.97447 11.84C4.86679 11.9441 4.72257 12.0017 4.57287 12.0004C4.42317 11.9991 4.27997 11.939 4.17412 11.833C4.06826 11.7271 4.00822 11.5837 4.00692 11.4339C4.00561 11.2841 4.06316 11.1397 4.16716 11.0319L7.18913 8.00722L4.16716 4.9825C4.06013 4.87533 4 4.73001 4 4.57848C4 4.42695 4.06013 4.28162 4.16716 4.17446V4.17446Z" fill="#A2ACD2"/>
                </svg>
            </button>
        </span>
    </div>

    <button class="form-control__btn" type="button">
        <ng-container *ngIf="!showCustomIcon; else customIcon">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.49992 9.99967C2.49992 9.01476 2.69391 8.03949 3.07082 7.12955C3.44773 6.21961 4.00018 5.39281 4.69662 4.69637C5.39306 3.99993 6.21985 3.44749 7.12979 3.07058C8.03973 2.69367 9.015 2.49967 9.99992 2.49967C10.9848 2.49967 11.9601 2.69367 12.87 3.07058C13.78 3.44749 14.6068 3.99993 15.3032 4.69637C15.9997 5.39281 16.5521 6.21961 16.929 7.12955C17.3059 8.03949 17.4999 9.01476 17.4999 9.99967C17.4999 11.9888 16.7097 13.8965 15.3032 15.303C13.8967 16.7095 11.989 17.4997 9.99992 17.4997C8.01079 17.4997 6.10314 16.7095 4.69662 15.303C3.29009 13.8965 2.49992 11.9888 2.49992 9.99967ZM9.99992 0.833008C4.93742 0.833008 0.833252 4.93717 0.833252 9.99967C0.833252 15.0622 4.93742 19.1663 9.99992 19.1663C15.0624 19.1663 19.1666 15.0622 19.1666 9.99967C19.1666 4.93717 15.0624 0.833008 9.99992 0.833008ZM10.8333 5.83301C10.8333 5.61199 10.7455 5.40003 10.5892 5.24375C10.4329 5.08747 10.2209 4.99967 9.99992 4.99967C9.7789 4.99967 9.56694 5.08747 9.41066 5.24375C9.25438 5.40003 9.16658 5.61199 9.16658 5.83301V9.16634H5.83325C5.61224 9.16634 5.40028 9.25414 5.244 9.41042C5.08772 9.5667 4.99992 9.77866 4.99992 9.99967C4.99992 10.2207 5.08772 10.4326 5.244 10.5889C5.40028 10.7452 5.61224 10.833 5.83325 10.833H9.16658V14.1663C9.16658 14.3874 9.25438 14.5993 9.41066 14.7556C9.56694 14.9119 9.7789 14.9997 9.99992 14.9997C10.2209 14.9997 10.4329 14.9119 10.5892 14.7556C10.7455 14.5993 10.8333 14.3874 10.8333 14.1663V10.833H14.1666C14.3876 10.833 14.5996 10.7452 14.7558 10.5889C14.9121 10.4326 14.9999 10.2207 14.9999 9.99967C14.9999 9.77866 14.9121 9.5667 14.7558 9.41042C14.5996 9.25414 14.3876 9.16634 14.1666 9.16634H10.8333V5.83301Z" fill="#78AFF8"/>
            </svg>
        </ng-container>
        <ng-template #customIcon>
            <ng-content></ng-content>
        </ng-template>
    </button>
</div>

<app-dropdown-list-multiply
    [show]="showStatus.value == '1'"
    (onChangeValue)="writeValue($event)"
    [opt]="options" 
    [value]="value"
    [showSearch]="search"
></app-dropdown-list-multiply>