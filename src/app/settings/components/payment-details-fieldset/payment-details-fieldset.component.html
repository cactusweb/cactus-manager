<form class="popup" [formGroup]="form">
    <div class="popup__head">
        <h4 class="popup__title">Payment details</h4>
        
        <button class="popup__icon" type="button" (click)="close(false)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M6.25074 6.26119C6.41134 6.1005 6.62913 6.01023 6.85622 6.01023C7.08331 6.01023 7.3011 6.1005 7.4617 6.26119L11.9946 10.798L16.5276 6.26119C16.6066 6.17932 16.7011 6.11402 16.8056 6.0691C16.9101 6.02418 17.0224 6.00053 17.1362 5.99954C17.2499 5.99856 17.3626 6.02024 17.4679 6.06334C17.5731 6.10644 17.6688 6.17008 17.7492 6.25056C17.8296 6.33104 17.8932 6.42674 17.9362 6.53208C17.9793 6.63742 18.001 6.75029 18 6.8641C17.999 6.97791 17.9754 7.09039 17.9305 7.19496C17.8856 7.29954 17.8203 7.39412 17.7386 7.47319L13.2056 12.01L17.7386 16.5469C17.8946 16.7086 17.9809 16.9251 17.9789 17.1498C17.977 17.3746 17.8869 17.5895 17.7281 17.7485C17.5693 17.9074 17.3545 17.9975 17.13 17.9995C16.9054 18.0014 16.6891 17.915 16.5276 17.7589L11.9946 13.222L7.4617 17.7589C7.30018 17.915 7.08385 18.0014 6.8593 17.9995C6.63476 17.9975 6.41996 17.9074 6.26118 17.7485C6.10239 17.5895 6.01232 17.3746 6.01037 17.1498C6.00842 16.9251 6.09474 16.7086 6.25074 16.5469L10.7837 12.01L6.25074 7.47319C6.09019 7.31245 6 7.09447 6 6.86719C6 6.6399 6.09019 6.42193 6.25074 6.26119Z" fill="#A2ACD2"/>
            </svg>
        </button>
    </div>

    <fieldset class="popup__body" formArrayName="details">
        <app-payment-detail *ngFor="let inp of getFormControls('details')['controls']; let i = index" formControlName="{{i}}" (onDelete)="getFormControls('details').removeAt(i)"></app-payment-detail>

        <button class="btn" type="button" (click)="addControl()">
            Add new
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.49967 9.99919C2.49967 9.01427 2.69367 8.039 3.07058 7.12906C3.44749 6.21912 3.99993 5.39232 4.69637 4.69588C5.39281 3.99945 6.21961 3.447 7.12955 3.07009C8.03949 2.69318 9.01476 2.49919 9.99967 2.49919C10.9846 2.49919 11.9599 2.69318 12.8698 3.07009C13.7797 3.447 14.6065 3.99945 15.303 4.69588C15.9994 5.39232 16.5519 6.21912 16.9288 7.12906C17.3057 8.039 17.4997 9.01427 17.4997 9.99919C17.4997 11.9883 16.7095 13.896 15.303 15.3025C13.8965 16.709 11.9888 17.4992 9.99967 17.4992C8.01055 17.4992 6.1029 16.709 4.69637 15.3025C3.28985 13.896 2.49967 11.9883 2.49967 9.99919ZM9.99967 0.83252C4.93717 0.83252 0.833008 4.93669 0.833008 9.99919C0.833008 15.0617 4.93717 19.1659 9.99967 19.1659C15.0622 19.1659 19.1663 15.0617 19.1663 9.99919C19.1663 4.93669 15.0622 0.83252 9.99967 0.83252ZM10.833 5.83252C10.833 5.61151 10.7452 5.39954 10.5889 5.24326C10.4326 5.08698 10.2207 4.99919 9.99967 4.99919C9.77866 4.99919 9.5667 5.08698 9.41042 5.24326C9.25414 5.39954 9.16634 5.61151 9.16634 5.83252V9.16585H5.83301C5.61199 9.16585 5.40003 9.25365 5.24375 9.40993C5.08747 9.56621 4.99967 9.77817 4.99967 9.99919C4.99967 10.2202 5.08747 10.4322 5.24375 10.5884C5.40003 10.7447 5.61199 10.8325 5.83301 10.8325H9.16634V14.1659C9.16634 14.3869 9.25414 14.5988 9.41042 14.7551C9.5667 14.9114 9.77866 14.9992 9.99967 14.9992C10.2207 14.9992 10.4326 14.9114 10.5889 14.7551C10.7452 14.5988 10.833 14.3869 10.833 14.1659V10.8325H14.1663C14.3874 10.8325 14.5993 10.7447 14.7556 10.5884C14.9119 10.4322 14.9997 10.2202 14.9997 9.99919C14.9997 9.77817 14.9119 9.56621 14.7556 9.40993C14.5993 9.25365 14.3874 9.16585 14.1663 9.16585H10.833V5.83252Z" fill="#78AFF8"/>
            </svg>
        </button>

    </fieldset>

    <button class="btn--primary" (click)="close(true)">Ok</button>
</form>