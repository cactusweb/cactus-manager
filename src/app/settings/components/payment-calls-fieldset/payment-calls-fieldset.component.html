<form class="popup" [formGroup]="form">
    <div class="popup__head">
        <h4 class="popup__title">Calls for payment</h4>
        
        <button class="popup__icon" type="button" (click)="onClose.emit()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M6.25074 6.26119C6.41134 6.1005 6.62913 6.01023 6.85622 6.01023C7.08331 6.01023 7.3011 6.1005 7.4617 6.26119L11.9946 10.798L16.5276 6.26119C16.6066 6.17932 16.7011 6.11402 16.8056 6.0691C16.9101 6.02418 17.0224 6.00053 17.1362 5.99954C17.2499 5.99856 17.3626 6.02024 17.4679 6.06334C17.5731 6.10644 17.6688 6.17008 17.7492 6.25056C17.8296 6.33104 17.8932 6.42674 17.9362 6.53208C17.9793 6.63742 18.001 6.75029 18 6.8641C17.999 6.97791 17.9754 7.09039 17.9305 7.19496C17.8856 7.29954 17.8203 7.39412 17.7386 7.47319L13.2056 12.01L17.7386 16.5469C17.8946 16.7086 17.9809 16.9251 17.9789 17.1498C17.977 17.3746 17.8869 17.5895 17.7281 17.7485C17.5693 17.9074 17.3545 17.9975 17.13 17.9995C16.9054 18.0014 16.6891 17.915 16.5276 17.7589L11.9946 13.222L7.4617 17.7589C7.30018 17.915 7.08385 18.0014 6.8593 17.9995C6.63476 17.9975 6.41996 17.9074 6.26118 17.7485C6.10239 17.5895 6.01232 17.3746 6.01037 17.1498C6.00842 16.9251 6.09474 16.7086 6.25074 16.5469L10.7837 12.01L6.25074 7.47319C6.09019 7.31245 6 7.09447 6 6.86719C6 6.6399 6.09019 6.42193 6.25074 6.26119Z" fill="#A2ACD2"/>
            </svg>
        </button>
    </div>

    <fieldset class="popup__body">
        <div class="inp-wrapper">
            <label for="attempts" class="inp-wrapper__label">Max. number of payment attempts</label>
            <input type="number" 
                id="attempts" 
                formControlName="max_attempts" 
                class="form-control" placeholder="Input num of attempts" autocomplete="OFF"
                min="1"
                max="10"
                step="1"
            >
        </div>

        <div class="inp-wrapper">
            <span for="action" class="inp-wrapper__label">Action after unsuccessful renew</span>
            <app-select-primary formControlName="action" [opt]="actionOpts"></app-select-primary>
        </div>

        <div class="inp-wrapper" [class.inp-wrapper--disabled]="form.controls['expires_role'].disabled">
            <span for="role" class="inp-wrapper__label">Issued role</span>
            <app-select-primary formControlName="expires_role" [opt]="dsRoleOpts"></app-select-primary>
        </div>

        
        <div class="inp-wrapper" [class.inp-wrapper--disabled]="form.controls['wh_content'].disabled" id="wh-content-wrapper">
            <label for="wh-content" class="inp-wrapper__label">Content of last webhook</label>
            <textarea formControlName="wh_content" id="wh-content" class="form-control"></textarea>
        </div>
    </fieldset>

    <button class="btn--primary" (click)="onClose.emit()">Ok</button>
</form>